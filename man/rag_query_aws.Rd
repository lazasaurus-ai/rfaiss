% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rag_helper.R
\name{rag_query_aws}
\alias{rag_query_aws}
\title{Run a RAG-style query using a saved index + manifest and AWS Bedrock via ellmer}
\usage{
rag_query_aws(
  query,
  index_path,
  manifest_path,
  k = 5L,
  embedding_model = "sentence-transformers/all-MiniLM-L6-v2",
  python = Sys.getenv("RETICULATE_PYTHON", unset = NA_character_),
  bedrock_args = list(),
  max_context_chars = 3000L,
  system_prompt = NULL
)
}
\arguments{
\item{query}{character scalar}

\item{index_path}{path to .faiss index}

\item{manifest_path}{path to corresponding _manifest.rds (contains file, chunk_id, snippet)}

\item{k}{integer how many retrievals to request from the index (per query)}

\item{embedding_model}{embedding model used to build index (passed to search_dir_index)}

\item{python}{optional python binary path passed to embedder functions (NA or NULL => let reticulate choose)}

\item{bedrock_args}{list of args passed to ellmer::chat_aws_bedrock(...) (e.g., model, api_key, etc.)}

\item{max_context_chars}{approximate char budget for the concatenated context}

\item{system_prompt}{optional system prompt to include before the generated prompt (prepended to prompt body)}
}
\value{
list(answer = character, used = data.frame of used hits, raw_search = full search results)
}
\description{
Defaults to \code{bedrock_args$model = "anthropic.claude-3-7-sonnet-20250219-v1:0"} if not provided.
}
